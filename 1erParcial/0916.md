# Ejercicio 1: Analizador de Logs de Sistema (Seguridad IT)


**Escenario:** Un analista de seguridad necesita revisar logs de acceso para detectar patrones sospechosos.


```
#!/bin/bash
# Script: crear_log_seguridad.sh
# Crea un archivo de log simulado para análisis de seguridad

echo "Creando archivo de log de seguridad simulado..."

cat > access.log << 'EOF'
2024-01-15 08:23:15 192.168.1.100 LOGIN_SUCCESS user1 ssh
2024-01-15 08:25:42 10.0.0.50 LOGIN_FAILED admin ssh
2024-01-15 08:27:33 192.168.1.100 LOGIN_SUCCESS user1 web
2024-01-15 08:30:11 10.0.0.50 LOGIN_FAILED root ssh
2024-01-15 08:32:55 203.0.113.25 LOGIN_FAILED admin web
2024-01-15 08:35:20 192.168.1.100 LOGIN_SUCCESS user1 ftp
2024-01-15 08:37:44 10.0.0.50 LOGIN_FAILED admin ssh
2024-01-15 08:40:12 203.0.113.25 LOGIN_FAILED root web
2024-01-15 08:42:33 192.168.1.101 LOGIN_SUCCESS user2 ssh
2024-01-15 08:45:18 10.0.0.50 LOGIN_FAILED admin ssh
2024-01-15 09:12:44 203.0.113.25 LOGIN_FAILED admin web
2024-01-15 09:15:22 192.168.1.102 LOGIN_SUCCESS user3 web
2024-01-15 09:18:55 10.0.0.50 LOGIN_SUCCESS admin ssh
2024-01-15 09:22:10 203.0.113.25 LOGIN_FAILED root web
2024-01-15 09:25:33 192.168.1.100 LOGIN_SUCCESS user1 ssh
2024-01-15 09:28:44 10.0.0.50 LOGIN_FAILED admin ssh
2024-01-15 09:32:11 203.0.113.25 LOGIN_FAILED admin web
2024-01-15 09:35:55 192.168.1.103 LOGIN_SUCCESS user4 ftp
2024-01-15 10:42:33 203.0.113.25 LOGIN_FAILED root ssh
2024-01-15 10:45:12 10.0.0.50 LOGIN_FAILED admin web
2024-01-15 10:48:44 192.168.1.100 LOGIN_SUCCESS user1 web
2024-01-15 10:52:22 203.0.113.25 LOGIN_FAILED admin ssh
2024-01-15 10:55:33 10.0.0.50 LOGIN_SUCCESS admin ssh
2024-01-15 11:15:44 203.0.113.25 LOGIN_FAILED root web
2024-01-15 11:18:22 192.168.1.104 LOGIN_SUCCESS user5 ssh
EOF

echo "Archivo access.log creado con $(wc -l < access.log) entradas"
echo ""
echo "=== VISTA PREVIA DEL LOG ==="
head -5 access.log
echo "..."
echo ""
echo "Formato: FECHA HORA IP ESTADO USUARIO SERVICIO"
```

### Tareas:

1. Crear directorio `seguridad/`
2. Simular análisis de archivo de log para buscar todas las IPs y su reincidencia
    - Mostrar las IPs utilizadas y la cantidad de repetidas usando `cut`, `sort` y `uniq -c`
    -  e.j. `seguridad/ips_repetidas.txt`
         ```bash
        8 203.0.113.25
        8 10.0.0.50
        5 192.168.1.100
        1 192.168.1.104
        1 192.168.1.103      
        1 192.168.1.102
        1 192.168.1.101
        ```

3. Contar intentos de login fallidos usando `grep` y `wc`
    -  e.j. `seguridad/intentos_fallidos.txt`
        ```
        "Total de intentos fallidos: 14"
        ```

4. Identificar top 3 IPs con más actividad usando `cut`, `sort`, `uniq -c` y `head`
    - e.j. `seguridad/top3_ips.txt`
        ```
        8 203.0.113.25
        8 10.0.0.50
        5 192.168.1.100
        ```
5. `seguridad/` debera contener los 3 archivos `ips_repetidas.txt`, `intentos_fallidos.txt` y `seguridad/top3_ips.txt`


ref:  [cut command](https://labex.io/es/tutorials/linux-linux-cut-command-with-practical-examples-422626)


# Ejercicio 2: Sistema de Gestión de Hospital 

**Contexto**

Un hospital necesita un sistema para gestionar pacientes, médicos y citas médicas. El sistema debe controlar estrictamente el acceso a información sensible y garantizar que las operaciones médicas sigan protocolos específicos.

**Requerimientos Específicos**

**Clase `Paciente`**
- **Datos privados:** Número de historia clínica, nombre, edad, diagnóstico, estado (activo/inactivo)
- **Validaciones encapsuladas:**
    - La edad debe estar entre 0 y 120 años
    - El diagnóstico solo puede ser modificado por personal autorizado
    - Un paciente inactivo no puede tener nuevas citas
- **Métodos públicos:** `AsignarDiagnostico()`, `CambiarEstado()`, `MostrarInformacionBasica()` (sin diagnóstico) 

**Clase `Medico`**
- **Datos privados:** ID médico, nombre, especialidad, estado de licencia (vigente/suspendida), lista de pacientes asignados (máximo 20)

- **Validaciones encapsuladas:**
    - Solo médicos con licencia vigente pueden atender pacientes
    - No puede exceder 20 pacientes asignados    
- **Métodos públicos:** `AsignarPaciente()`, `DiagnosticarPaciente()`, `SuspenderLicencia()`, `ReactivarLicencia()`


**Clase `SistemaHospital`**
- **Funcionalidades:** Gestionar todo el flujo de pacientes y médicos
- **Operaciones críticas:** `RegistrarPaciente()`, `RegistrarMedico()`, `ProgramarCita()`, `RealizarConsulta()`


**Test**
- [./program.cs](./program.cs)