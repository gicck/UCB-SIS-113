# Ejercicio 1: Analizador de Transacciones de E-Commerce

**Escenario:** Una tienda en línea necesita analizar sus transacciones del día para generar reportes de ventas, identificar productos más vendidos y detectar transacciones con problemas.

```bash
#!/bin/bash
# Script: crear_transacciones.sh
# Crea un archivo de transacciones simulado para análisis de ventas

echo "Creando archivo de transacciones de ventas..."

cat > ventas.txt << 'EOF'
TXN001|2024-01-15|09:15:22|Laptop|1200.00|APPROVED|user_1001|PayPal
TXN002|2024-01-15|09:18:45|Mouse|25.50|APPROVED|user_1002|Visa
TXN003|2024-01-15|09:22:33|Teclado|85.00|DECLINED|user_1003|Mastercard
TXN004|2024-01-15|09:25:12|Laptop|1200.00|APPROVED|user_1001|PayPal
TXN005|2024-01-15|09:28:55|Monitor|350.00|APPROVED|user_1004|Visa
TXN006|2024-01-15|09:32:44|Mouse|25.50|APPROVED|user_1005|PayPal
TXN007|2024-01-15|09:35:33|Teclado|85.00|APPROVED|user_1002|Visa
TXN008|2024-01-15|09:38:18|Laptop|1200.00|PENDING|user_1006|Mastercard
TXN009|2024-01-15|09:42:55|Mouse|25.50|APPROVED|user_1007|PayPal
TXN010|2024-01-15|09:45:42|Monitor|350.00|DECLINED|user_1003|Mastercard
TXN011|2024-01-15|09:48:33|Teclado|85.00|APPROVED|user_1008|Visa
TXN012|2024-01-15|09:52:18|Laptop|1200.00|APPROVED|user_1009|PayPal
TXN013|2024-01-15|09:55:44|Mouse|25.50|APPROVED|user_1002|Visa
TXN014|2024-01-15|09:58:22|Monitor|350.00|APPROVED|user_1010|PayPal
TXN015|2024-01-15|10:02:55|Teclado|85.00|DECLINED|user_1011|Mastercard
TXN016|2024-01-15|10:05:33|Mouse|25.50|APPROVED|user_1004|Visa
TXN017|2024-01-15|10:08:18|Laptop|1200.00|APPROVED|user_1012|PayPal
TXN018|2024-01-15|10:12:44|Monitor|350.00|PENDING|user_1013|Mastercard
TXN019|2024-01-15|10:15:22|Teclado|85.00|APPROVED|user_1005|Visa
TXN020|2024-01-15|10:18:55|Mouse|25.50|APPROVED|user_1014|PayPal
TXN021|2024-01-15|10:22:33|Laptop|1200.00|DECLINED|user_1015|Mastercard
TXN022|2024-01-15|10:25:18|Monitor|350.00|APPROVED|user_1001|PayPal
TXN023|2024-01-15|10:28:44|Teclado|85.00|APPROVED|user_1016|Visa
TXN024|2024-01-15|10:32:22|Mouse|25.50|APPROVED|user_1017|PayPal
TXN025|2024-01-15|10:35:55|Laptop|1200.00|APPROVED|user_1018|Visa
TXN026|2024-01-15|10:38:33|Monitor|350.00|DECLINED|user_1019|Mastercard
TXN027|2024-01-15|10:42:18|Teclado|85.00|APPROVED|user_1020|PayPal
TXN028|2024-01-15|10:45:44|Mouse|25.50|PENDING|user_1003|Visa
TXN029|2024-01-15|10:48:22|Laptop|1200.00|APPROVED|user_1021|PayPal
TXN030|2024-01-15|10:52:55|Monitor|350.00|APPROVED|user_1022|Visa
EOF

echo "Archivo ventas.txt creado con $(wc -l < ventas.txt) transacciones"
echo ""
echo "=== VISTA PREVIA DE TRANSACCIONES ==="
head -5 ventas.txt
echo "..."
echo ""
echo "Formato: ID|FECHA|HORA|PRODUCTO|PRECIO|ESTADO|USUARIO|METODO_PAGO"
```

## Tareas:

1. **Crear directorio `reportes_ventas/`**

2. **Listar productos únicos ordenados alfabéticamente**
   - Extraer la columna de productos 
   - Eliminar duplicados y ordenar alfabéticamente `cut`, `sort` y `uniq`
   - Guardar en `reportes_ventas/productos_catalogo.txt`
   - Ejemplo de salida:
     ```
     Laptop
     Monitor
     Mouse
     Teclado
     ```

3. **Calcular total de transacciones por método de pago**
   - Extraer la columna de método de pago y contar ocurrencias
   - Ordenar por cantidad de mayor a menor `cut`, `sort`, `uniq -c` y `sort`
   - Guardar en `reportes_ventas/metodos_pago.txt`
   - Ejemplo de salida:
     ```
     14 PayPal
     10 Visa
      6 Mastercard
     ```

4. **Identificar transacciones problemáticas (DECLINED y PENDING)**
   - Filtrar líneas que contengan DECLINED o PENDING
   - Contar cuántas hay de cada tipo `grep`, `cut`, `sort` y `uniq`
   - Guardar en `reportes_ventas/transacciones_problemas.txt`
   - Ejemplo de salida:
     ```
     5 DECLINED
     3 PENDING
     ```

5. **Extraer IDs de transacciones aprobadas con Laptop**
   - Filtrar líneas con APPROVED y que contengan Laptop
   - Extraer solo los IDs de transacción `grep`  `cut`
   - Guardar en `reportes_ventas/laptops_aprobadas.txt`
   - Ejemplo de salida:
     ```
     TXN001
     TXN004
     TXN012
     TXN017
     TXN025
     TXN029
     ```

6. **Generar resumen de cantidad total de transacciones**
   - Contar líneas totales del archivo `wc`
   - Guardar en `reportes_ventas/resumen_total.txt` con formato:
   - Ejemplo de salida:
     ```
     Total de transacciones procesadas: 30
     ```

7. **El directorio `reportes_ventas/` debe contener 5 archivos:**
   - `productos_catalogo.txt`
   - `metodos_pago.txt`
   - `transacciones_problemas.txt`
   - `laptops_aprobadas.txt`
   - `resumen_total.txt`


# Ejercicio 2: Sistema de Gestión Bancaria (Evaluación de Abstracción y Encapsulamiento)

## Contexto
Un banco necesita un sistema seguro para gestionar cuentas bancarias, transacciones y clientes. El sistema debe proteger información financiera sensible y garantizar que todas las operaciones cumplan con regulaciones bancarias estrictas.

## Requerimientos Específicos
Clase `CuentaBancaria`
- **Datos privados:**
  - Número de cuenta (único, no modificable después de la creación)
  - Saldo actual (solo modificable a través de métodos controlados)
  - Tipo de cuenta (Ahorros, Corriente, Inversión)
  - Estado de la cuenta (Activa, Bloqueada, Cerrada)
  - Historial de transacciones (lista protegida)
  - Límite de retiro diario
  - Cantidad retirada hoy

- **Validaciones encapsuladas:**
  - El saldo nunca puede ser negativo para cuentas de ahorros
  - Las cuentas corrientes pueden tener sobregiro hasta -$1000
  - No se pueden realizar operaciones en cuentas bloqueadas o cerradas
  - El límite de retiro diario no puede excederse
  - Los depósitos deben ser mayores a $0

- **Métodos públicos:**
  - `Depositar(decimal monto)`
  - `Retirar(decimal monto)`
  - `ConsultarSaldo()`
  - `BloquearCuenta()`
  - `DesbloquearCuenta()`
  - `MostrarInformacionBasica()` 

Clase `Cliente`

- **Datos privados:**
  - ID cliente (único)
  - Nombre completo
  - Número de identificación (cédula/pasaporte)
  - Fecha de nacimiento
  - Estado crediticio (Excelente, Bueno, Regular, Malo)
  - Lista de cuentas asociadas (máximo 5 cuentas)
  - Ingresos mensuales declarados

- **Validaciones encapsuladas:**
  - Los menores de 18 años solo pueden tener cuentas de ahorros
  - Clientes con mal estado crediticio no pueden abrir cuentas corrientes
  - Un cliente no puede tener más de 5 cuentas
  - Los ingresos declarados deben ser consistentes con el tipo de cuenta solicitada

- **Métodos públicos:**

  - `SolicitarCuenta(TipoCuenta tipo, decimal depositoInicial)`
  - `ConsultarCuentas()`
  - `ActualizarIngresos(decimal nuevosIngresos)`
  - `MostrarPerfilBasico()` (sin información financiera sensible)


Clase `SistemaBancario`

- **Funcionalidades:**
  - Gestión integral de clientes y cuentas
  - Control de transacciones y auditoría

- **Operaciones críticas:**
  - `RegistrarCliente(string nombre, string identificacion, DateTime fechaNacimiento, decimal ingresos)`
  - `AbrirCuenta(string clienteId, TipoCuenta tipo, decimal depositoInicial)`
  - `RealizarTransferencia(string cuentaOrigen, string cuentaDestino, decimal monto)`

## Casos de Prueba Específicos
- [./program.cs](./program.cs)

